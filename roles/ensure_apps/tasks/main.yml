---
- name: Ensure apps present
  apt:
    state: present
    update_cache: true
    pkg:
      - autofs
      - baobab
      - build-essential
      - cifs-utils
      - corkscrew
      - curl
      - dconf-editor
      - flameshot
      - htop
      - iftop
      - iotop
      - iperf3
      - kazam
      - ncdu
      - network-manager-openconnect
      - network-manager-openconnect-gnome
      - nmap
      - openconnect
      - peek
      - pitivi
      - preload
      - safe-rm
      - silversearcher-ag
      - terminator
      - trash-cli
      - vim

  become: true

- name: Ensure apps present for 20.04 specific
  apt:
    state: present
    pkg:
      - timeshift
  become: true
  when: ansible_distribution_version == "20.04"

- name: Ensure up to date system
  apt:
    update_cache: true
    cache_valid_time: 3600  # Seconds
    upgrade: "dist"
    autoclean: true
    autoremove: true
  become: true
